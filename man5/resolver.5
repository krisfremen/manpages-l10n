.\" Copyright (c) 1986 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
.\"
.\"	@(#)resolver.5	5.9 (Berkeley) 12/14/89
.\"	$Id: resolver.5,v 1.2 2005-08-24 06:51:28 joey Exp $
.\"
.\" German translation by Martin Schmitt (martin@schmitt.li) 01/2001
.\"
.TH RESOLVER 5 "29. Januar 2001" "Linux" "Dateiformate"
.UC 4
.SH BEZEICHNUNG
resolver \- Konfigurationsdatei des Resolver
.SH ÜBERSICHT
/etc/resolv.conf
.SH BESCHREIBUNG
.LP
Beim
.I Resolver
handelt es sich um eine Sammlung von Routinen in der C-Bibliothek, über
die auf das Namenssystem im Internet
.I (Domain Name System / DNS)
zugegriffen wird.  Die Konfigurationsdatei des Resolver enthält Informationen,
die eingelesen werden, sobald die Resolver-Routinen zum ersten Mal durch
einen Prozess angesprochen werden.
Die Datei wurde so entworfen, dass sie menschenlesbar ist, und enthält eine
Liste von Schlüsselworten und Werten, über die dem Resolver verschiedene
Informationen mitgeteilt werden, die er zum Auflösen von Namen benötigt.
.LP
Die Benutzung dieser Datei ist nicht auf jedem System zwingend erforderlich.
Ohne sie wird der lokale DNS-Server angesprochen, der Domainname aus dem
Hostnamen ermittelt, und die Suchliste aus dem Domainnamen gebildet.
.LP
Die Konfigurationsoptionen sind:
.TP
.BR nameserver
IP-Adresse eines DNS-Server, der für die Namensauflösung durch den Resolver 
verwendet werden soll.  Es können bis zu MAXNS (derzeit sind das 3) DNS-Server
angegeben werden, einer je Zeile/Schlüsselwort.  Werden mehrere DNS-Server 
angegeben, wird der Resolver versuchen, sie in der angegebenen Reihenfolge
zu erreichen.  Ist keine Zeile mit dem Eintrag
.BR nameserver
vorhanden, wird der DNS-Server des lokalen Systems angesprochen.
Um es genau zu machen: Der Resolver versucht, einen DNS-Server zu erreichen. 
Ist dieser nicht erreichbar, macht er beim nächsten eingetragenen DNS-Server
weiter, bis alle Einträge abgearbeitet sind.  Danach fängt er wieder an, die 
Liste von vorne abzuarbeiten, bis die maximal zulässige Anzahl von Versuchen 
überschritten ist.
.TP
.BR domain
Der lokale Domainname.
Die meisten Anfragen nach Namen innerhalb dieser Domain können
in verkürzter Form über Host- oder Domainnamen relativ zu dieser lokalen
Domain erfolgen.
Gibt es keinen Eintrag für 
.BR domain,
wird der Domainname anhand des lokalen Hostnamens ermittelt, der durch
.BR gethostbyname (3)
geliefert wird.  Es wird in diesem Fall davon ausgegangen, dass die Domain
der Teil des Namens ist, der rechts von ersten `.' steht.
Wenn der Hostname keinen Domain-Teil enthält, wird die Root-Domain
als Wert für
.BR domain
angenommen.
.TP
.BR search
Suchliste für die Namensauflösung.
In der Regel wird die Suchliste aus dem lokalen Domainnamen abgeleitet
und wird mit diesem lokalen Domainnamen als Standardwert belegt.
Dieses Verhalten kann erweitert werden, indem mit dem Schlüsselwort
.BR search
ein Suchpfad für die Domainauflösung angegeben wird, dessen Bestandteile
durch Tabulator oder Leerzeichen voneinander zu trennen sind.
Die meisten Anfragen an den Resolver werden dann versuchen, jeden Eintrag
dieses Suchpfads abzuarbeiten, bis ein gültiger Namenseintrag unter einer
der genannten Domains gefunden wurde.
Es ist zu beachten, dass dieser Vorgang langsam sein kann und viel unnötigen
Netzwerkverkehr erzeugt, wenn die DNS-Server für die betreffenden Domains
nicht lokal sind.  Zusätzlich können Anfragen mit einem timeout beendet 
werden, wenn der DNS-Server für eine der genannten Domains nicht erreichbar
ist.
.IP
Der Suchpfad ist derzeit auf bis zu 6 Domains und eine Länge von 256
Zeichen beschränkt.
.TP
.BR sortlist
Ermöglicht die Sortierung von durch
.BR gethostbyname (3)
ermittelten Adressen.
Eine Sortlist wird durch Kombinationen von IP-Adresse und Netzmaske 
angegeben.  Die Netzmaske ist optional, es wird als Standardwert die native
Netzmaske der genannten Adresse angenommen.  Kombinationen von IP-Adresse 
und Netzmaske werden durch einen Schrägstrich getrennt.  Es können bis zu
10 Werte angegeben werden.  Beispiel:
.IP
sortlist 130.155.160.0/255.255.240.0 130.155.0.0
.TP
.BR options
Ermöglicht es, bestimmte interne Variablen des Resolvers zu beeinflussen.
Die Syntax lautet:
.IP
\fBoptions\fP \fIoption\fP \fI...\fP
.IP
\fIoption\fP kann dabei einen der folgenden Werte annehmen:
.IP
\fBdebug\fP \(em setzt RES_DEBUG in _res.options.
.IP
\fBndots:\fP\fIn\fP \(em definiert einen Schwellenwert für die Anzahl der
Punkte, die in Anfragen an \fBres_query\fP auftauchen müssen,
(vgl. \fIresolver\fP(@LIB_NETWORK_EXT@))
damit ein \fIinitial absolute query\fP ausgeführt wird.  Der Standardwert
für \fIn\fP ist ``1'', was zur Folge hat, dass zunächst versucht wird, den 
Namen als absoluten Namen aufzulösen, bevor ihm ein Eintrag aus der
\fIsearch list\fP angehängt wird.
.LP
Die Konfigurationsoptionen \fIdomain\fP und \fIsearch\fP schließen sich
gegenseitig aus. Wenn sie beide vorhanden sind, wird der zuletzt gefundene
Eintrag berücksichtigt.
.LP
Die Konfigurationsoption \fIsearch\fP aus der \fIresolv.conf\fP kann von
Prozessen individuell außer Kraft gesetzt werden, indem der Umgebungsvariable
``\s-1LOCALDOMAIN\s+1'' eine Liste von durch Leerzeichen getrennten Domains
zugewiesen wird.
.LP
Die Konfigurationsoption \fIoptions\fP aus der \fIresolv.conf\fP kann
von Prozessen individuell ergänzt werden, indem der Umgebungsvariable
``\s-1RES_OPTIONS\s+1'' eine Liste von durch Leerzeichen getrennten 
Resolver-Optionen übergeben wird, wie sie unter \fBoptions\fP beschrieben 
wurden.
.LP
Konfigurationsoptionen und ihre Werte müssen gemeinsam auf einer Zeile
stehen. Die Zeile muss mit dem Namen der Konfigurationsoption  (z.B. 
\fBnameserver\fP) beginnen. Auf den Namen der Konfigurationsoption folgt der
Wert, bzw. folgen die Werte. Alle Felder sind durch Leerzeichen oder
Tabulator zu trennen.
.SH DATEIEN
.I /etc/resolv.conf
.SH SIEHE AUCH
.BR gethostbyname (3),
.BR hostname (7),
.BR named (8),
.br
Name Server Operations Guide for BIND

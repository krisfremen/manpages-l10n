.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\" 
.\" Copyright 1992,1993 Rickard E. Faith (faith@cs.unc.edu)
.\" May be distributed under the GNU General Public License
.\" Changes from sct@dcs.ed.ac.uk added Sat Oct 9 09:54:00 1993.
.\" Übersetzung und kleine Ergänzungen Martin Okrslar 28. Februar 1996
.\"
.\" Modified Fri Jan 12 01:15:29 2001 by Martin Schulze <joey@infodrom.north.de>
.\" 
.TH RDEV 8 "20. November 1993" "Linux 0.99" "Dienstprogramme zur Systemverwaltung"
.SH BEZEICHNUNG
rdev \- Abfrage/Änderung der Einträge für die root Partition, 
die swap Partition, die Größe der RAM disk oder des video Modus im 
Kernel\-Image 
.SH SYNTAX
.nf
.BR "rdev [ \-rsvh ] [ \-o " offset " ] [ " Image " [ " wert " [ " offset " ] ] ]"
.BR "rdev [ \-o " offset " ] [ " Image " [ " root-Partition " [ " offset " ] ] ]"
.BR "swapdev [ \-o " offset " ] [ " Image " [ " swap-Partition " [ " offset " ] ] ]"
.BR "ramsize [ \-o " offset " ] [ " Image " [ " size " [ " offset " ] ] ]"
.BR "vidmode [ \-o " offset " ] [ " Image " [ " Modus " [ " offset " ] ] ]"
.BR "rootflags [ \-o " offset " ] [ " Image " [ " flags " [ " offset " ] ] ]"
.fi
.SH BESCHREIBUNG
Wird
.B rdev
ohne Argumente aufgerufen, gibt es den Eintrag aus der 
.IR /etc/mtab \-Datei
aus, der die gegenwärtige root\-Partition enthält.  Ruft man 
.BR swapdev , 
.BR ramsize , 
.BR vidmode oder 
.B rootflags
ohne Argumente auf, werden Gebrauchsinformationen ausgegeben.

.SS rdev
In jedem bootbaren Kernel-Image gibt es mehrere Bytepaare, die dem 
Linux-Kernel sagen welche Partition die root-, und welche die 
swap-Partition ist, und die den Videomodus und die Größe der RAM disk 
angeben. Der Beginn dieser Bytepaare ist im Kernel-Image auf 
offset 504 (dezimal) voreingestellt:
.PP
.nf
.RS
 498 Root flags
(500 und 502 sind reserviert)
 504 RAM disk-Größe
 506 VGA-Modus
 508 Root-Partition
(510 Boot-Signatur)
.RE
.fi

.B rdev
kann diese Werte ändern.

In der Datei
.I /etc/lilo.conf
gibt es einen 
.BR image \-Eintrag
hinter dem der Name des Kernel-Images stehen muss. Ein 
Kernel-Image beinhaltet Informationen die beim Booten benötigt 
werden. Typische Werte für diese 
.BR image \-Parameter
sind z.B:

.nf
.RS
/vmlinuz
/vmlinuz.old
/vmlinux
/vmlinux.test
/vmunix
/vmunix.test
/zImage
/dev/fd0
/dev/fd1
.RE
.fi
.SS swapdev
Für die Kommandos 
.B rdev " und " swapdev
gibt es folgende (sich auf die 
\fIroot\fP\- bzw \fIswap\fP\-Partition beziehende) Parameter:

.nf
.RS
/dev/hda[1-8]
/dev/hdb[1-8]
/dev/sda[1-8]
/dev/sdb[1-8]
.RE
.fi
.SS ramsize
Bei dem Kommando
.B ramsize
bestimmt der 
\fBsize\fP\-Parameter die Größe der RAM disk in Kilobyte.
.SS rootflags
Für das Kommando
.B rootflags
enthalten die 
\fBflags\fP\-Parameter Informationen, die benötigt werden, wenn die 
\fIroot\fP\-Partition gemountet wird. Gegenwärtig ist der einzige Effekt 
den die "flags" haben, dass der Kernel die 
\fIroot\fP\-Partition 
.B readonly
mountet, falls der 
\fBflags\fP\-Parameter nicht auf 
.B 0 
gesetzt ist.
.SS vidmode
Bei dem Kommando 
.B vidmode
 bestimmen die 
\fBmode\fP\-Parameter den Videomodus:

.nf
.RS
-3 = Eingabeaufforderung
-2 = Extended VGA
-1 = VGA (normal)
 0 = als hätte man bei der Eingabeaufforderung "0" eingegeben
 1 = als hätte man bei der Eingabeaufforderung "1" eingegeben
 2 = als hätte man bei der Eingabeaufforderung "2" eingegeben
 n = als hätte man bei der Eingabeaufforderung "n" eingegeben
.RE
.fi

Wird kein 
.I Modus
(bei 
.B rdev
.I Wert
) eingegeben, übernimmt 
.B vidmode
den Eintrag aus dem Kernel-Image.
.SH OPTIONEN
.TP
.B \-s
.B rdev
verhält sich wie 
.BR swapdev .
.TP
.B \-r
.B rdev
verhält sich wie
.BR ramsize .
.TP
.B \-R
.B rdev
verhält sich wie 
.BR rootflags .
.TP
.B \-v
.B rdev
verhält sich wie
.BR vidmode .
.TP
.B \-h
.B rdev
gibt eine Hilfeseite aus.
.SH FEHLER
Aus historischen Gründen gibt es zwei verschiedene Methoden die 
offset-Werte zu spezifizieren.

Die Benutzerschnittstelle ist unhandlich, nicht-intuitiv und sollte 
wahrscheinlich von Grund auf neu geschrieben werden. Dabei sollte es 
möglich werden, mehrere Kernel-Image-Parameter mit nur einem Kommando zu 
verändern oder abzufragen.

Wenn der LILO eingesetzt wird, ist es nicht mehr nötig 
.B rdev
zu benutzen um den VGA Modus und die root-Partition zu bestimmen, da man  
diese Parameter auch vom LILO-Bootmonitor aus übergeben kann. Trotzdem  
wird 
.B rdev
immer noch benötigt um die Größe der RAM disk zu bestimmen. Für weitere 
Informationen empfehlen wir die LILO-Dokumentation zu suchen, und 
außerdem das System mit LILO zu booten.
.SH AUTOR
Ursprünglich von Werner Almesberger <almesber@berina.ethz.ch>
Überarbeitet von Peter MacDonald <pmacdona@sanjuan.UVic.CA>.
Rootflags-Unterstützung von Stephen Tweedie <sct@dcs.ed.ac.uk>
.SH "SIEHE AUCH"
.BR lilo (8).

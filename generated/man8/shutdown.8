.\" -*- coding: UTF-8 -*-
.\" Copyright (C) 1998-2003 Miquel van Smoorenburg.
.\"
.\" This program is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program; if not, write to the Free Software
.\" Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
.\"
.\"{{{}}}
.\"{{{  Title
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH SHUTDOWN 8 "12. November 2003" "" Linux\-Systemverwaltungshandbuch
.\"}}}
.\"{{{  Name
.SH BEZEICHNUNG
.\"}}}
.\"{{{  Synopsis
shutdown \- fährt das System herunter
.SH ÜBERSICHT
.\"}}}
.\"{{{  Description
\fB/sbin/shutdown\fP [\fB\-akrhPHfFnc\fP] [\fB\-t\fP \fISek\fP] \fIZeit\fP [\fIWarnmeldung\fP]
.SH BESCHREIBUNG
.\"}}}
.\"{{{  Options
\fBShutdown\fP fährt das System auf sichere Weise herunter. Alle angemeldeten
Benutzer werden benachrichtigt, dass das System heruntergefahren wird und
\fBlogin\fP(1) wird blockiert (Anmeldungen unterbunden). Sie können das System
sofort oder nach einer festgelegten Verzögerung herunterfahren. Allen
Prozessen wird zunächst mit dem Signal \s-2SIGTERM\s0 mitgeteilt, dass das
System herunterfährt. So bekommen Programme wie \fBvi\fP(1) die Zeit, um die
bearbeitete Datei zu speichern, Mail\- und News\-Verarbeitungsprogramme können
sauber verlassen werden usw. \fBShutdown\fP erledigt seine Arbeit, indem es dem
\fBinit\fP(8)\-Prozess signalisiert, das Runlevel zu ändern. Runlevel \fB0\fP wird
verwendet, um das System anzuhalten, Runlevel \fB6\fP bewirkt einen Neustart
des Systems und Runlevel \fB1\fP wird verwendet, um das System in einen Zustand
zu versetzen, in dem administrative Aufgaben durchgeführt werden
können. Runlevel \fB1\fP ist die Standardeinstellung, wenn keiner der Schalter
\fB\-h\fP oder \fB\-r\fP an \fBshutdown\fP übergeben wird. Um zu erfahren, welche
Aktionen bei Herunterfahren oder Neustart durchgeführt werden, sehen Sie
sich die entsprechenden Einträge für diese Runlevel in der Datei
\fI/etc/inittab\fP an.
.SH OPTIONEN
.\"{{{  -a
.IP \fB\-a\fP
.\"}}}
.\"{{{  -k
verwendet \fI/etc/shutdown.allow\fP
.IP \fB\-k\fP
.\"}}}
.\"{{{  -r
nicht tatsächlich herunterfahren; nur die Warnmeldungen an alle Benutzer
versenden
.IP \fB\-r\fP
.\"}}}
.\"{{{  -h
nach dem Herunterfahren neu starten
.IP \fB\-h\fP
.\"}}}
.\"{{{  -P
nach dem Herunterfahren anhalten oder ausschalten
.IP \fB\-P\fP
.\"}}}
.\"{{{  -H
beim Anhalten die Energieversorgung ausschalten
.IP \fB\-H\fP
.\"}}}
.\"{{{  -f
Dieser Schalter muss mit dem Schalter \fB\-h\fP aufgerufen werden und ändert
dessen Verhalten. Auf Systemen mit Unterstützung für ein
Boot\-Überwachungsprogramm (boot monitor) wird dieses aufgerufen.
.IP \fB\-f\fP
.\"}}}
.\"{{{  -F
Beim Systemstart wird \fBfsck\fP(8) übersprungen.
.IP \fB\-F\fP
.\"}}}
.\"{{{  -n
Beim Systemstart wird \fBfsck\fP(8) erzwungen.
.IP \fB\-n\fP
.\"}}}
.\"{{{  -c
[MISSBILLIGT] Nicht \fBinit\fP(8) aufrufen, um das System herunterzufahren,
sondern es selber tun. Von der Verwendung dieser Option wird abgeraten. Ihre
Ergebnisse sind nicht immer das, was Sie erwarten würden.
.IP \fB\-c\fP
.\"}}}
.\"{{{  -t sec
Bestellt ein ein anstehendes Herunterfahren ab (»shutdown now« steht nicht
mehr an). Mit dieser Option können Sie natürlich kein Zeit\-Argument
übergeben, aber Sie können auf der Befehlszeile eine erklärende Meldung
eingeben, die an alle Nutzer gesendet wird.
.IP "\fB\-t\fP \fISek\fP"
.\"}}}
.\"{{{  time
Weist \fBinit\fP(8) an, \fISek\fP Sekunden nach dem Versand der Warnung und des
Kill\-Signals zu warten, bevor der Runlevel gewechselt wird.
.IP \fIZeit\fP
.\"}}}
.\"{{{  warning-message
Zeitpunkt des Herunterfahrens
.IP \fIWarnmeldung\fP
.\"}}}
Diese Nachricht wird an alle Benutzer gesendet.
.PP
Für das Argument \fIZeit\fP gibt es verschiedene Formate. Das erste ist eine
absolute Zeit im Format \fIhh:mm\fP, wobei die ein oder zwei Ziffern \fIhh\fP die
Stunden und die zwei Ziffern \fImm\fP die Minuten angeben. Das zweite Format
\fB+\fP\fIm\fP gibt die Wartezeit in Minuten an. Schließlich ist \fBnow\fP ein
Synonym für \fB+0\fP.
.PP
Wenn \fBShutdown\fP mit einer Verzögerung herunterfahren soll, erzeugt es die
Hinweisdatei \fI/etc/nologin\fP für Programme wie \fBlogin\fP(1), die dann die
Anmeldung neuer Benutzer unterbinden. Diese Datei wird fünf Minuten vor dem
Beginn der Shutdown\-Sequenz erzeugt. \fBShutdown\fP entfernt diese Datei, wenn
das Herunterfahren angehalten wird oder ein Fehler auftritt, bevor es
\fBinit\fP(8) ein Signal senden kann. Die Datei wird auch vor einem Aufruf von
\fBinit\fP(8) zum Wechsel des Runlevels aufgerufen.
.PP
Der Schalter \fB\-f\fP bedeutet »schnell wieder hochfahren« (reboot fast). Es
wird lediglich eine Hinweisdatei \fI/fastboot\fP erzeugt, die vom System beim
Neustart ausgewertet werden kann. Das für den Start zuständige rc\-Skript
kann, wenn die Datei vorhanden ist, entscheiden, wegen dem ordnungsgemäßen
Herunterfahren den Aufruf von \fBfsck\fP(8) zu unterlassen. Danach sollte der
Startvorgang \fI/fastboot\fP entfernen.
.PP
Der Schalter \fB\-F\fP bedeutet »Dateisysteme auf jeden Fall prüfen« (force
fsck). Es wird lediglich die Hinweisdatei \fI/forcefsck\fP erzeugt. Das für den
Start zuständige rc\-Skript kann, wenn die Datei vorhanden ist, entscheiden,
\fBfsck\fP(8) mit dem Schalter \fB\-\-force\fP aufzurufen, sodass auch ordnungsgemäß
ausgehängte Dateisysteme überprüft werden. Danach sollte der Startvorgang
\fI/forcefsck\fP entfernen.
.PP
.\"}}}
.\"{{{  Files
Mit dem Schalter \fB\-n\fP wird \fBshutdown\fP nicht \fBinit\fP(8) aufrufen, sondern
alle laufenden Prozesse selbst beenden. Danach deaktiviert \fBshutdown\fP die
Ressourcenüberwachung (quota), die Prozessabrechnung (accounting) und die
Speicherauslagerung (swapping) und hängt alle Dateisysteme aus.
.SH ZUGRIFFSKONTROLLE
\fBShutdown\fP kann von \fBinit\fP(8) als Reaktion auf die Tastenkombination
\fBSTRG\-ALT\-ENTF\fP aufgerufen werden, indem ein entsprechender Eintrag in
\fI/etc/inittab\fP hinzugefügt wird. Damit kann jeder, der physischen Zugriff
auf die Konsolen\-Tastatur hat, das System herunterfahren. Um dies zu
verhindern, kann \fBshutdown\fP überprüfen, ob ein berechtigter Benutzer auf
einer der virtuellen Konsolen angemeldet ist. Wenn \fBshutdown\fP mit dem
Schalter \fB\-a\fP aufgerufen wird (fügen Sie dies dem Aufruf von \fBshutdown\fP in
\fI/etc/inittab\fP hinzu), überprüft es, ob die Datei \fI/etc/shutdown.allow\fP
vorhanden ist. Es vergleicht dann die Login\-Namen in der Datei mit der Liste
der Personen, die an einer virtuellen Konsole angemeldet sind (die Daten
stammen aus \fI/var/run/utmp\fP). Nur wenn einer dieser autorisierten Benutzer
\fBoder root\fP eingeloggt ist, macht es weiter. Sonst wird es die Nachricht
.sp 1
.nf
\fBshutdown: no authorized users logged in\fP
.fi
.sp 1
auf die (physikalische) System\-Konsole ausgeben. Das Format von
\fI/etc/shutdown.allow\fP ist ein Benutzername pro Zeile. Leere und
Kommentarzeilen (beginnen mit einem \fB#\fP) sind möglich. Derzeit ist die
Datei auf 32 Benutzer beschränkt.
.sp 1
Beachten Sie: Wenn \fI/etc/shutdown.allow\fP nicht vorhanden ist, wird der
Schalter \fB\-a\fP ignoriert.
.SH "ANHALTEN ODER AUSSCHALTEN"
Der Schalter \fB\-H\fP setzt die von \fBinit\fP(8) ausgewertete Umgebungsvariable
\fIINIT_HALT\fP auf \fIHALT\fP; \fB\-P\fP weist dieser Variable den Wert \fIPOWEROFF\fP
zu. Das Skript zur Steuerung des Herunterfahrens sollte \fIINIT_HALT\fP
auswerten und \fBhalt\fP(8) mit den passenden Optionen aufrufen, damit der Wert
der Variable auch tatsächlich etwas bewirkt. Debian 3.1 (sarge) unterstützt
diese Optionen.
.SH DATEIEN
.nf
/fastboot
/etc/inittab
/etc/init.d/halt
/etc/init.d/reboot
/etc/shutdown.allow
.fi
.\"}}}
.SH ANMERKUNGEN
Viele Benutzer vergessen es, das \fIZeit\fP\-Argument anzugeben und werden dann
durch die Fehlermeldung von \fBShutdown\fP verwirrt. Das \fIZeit\fP\-Argument ist
obligatorisch; in 90 Prozent aller Fälle wird es das Wort \fBnow\fP sein.
.PP
\fBInit\fP kann STRG\-ALT\-ENTF nur im Konsolen\-Modus abfangen und das
Herunterfahren einleiten. Wenn auf dem Rechner das X Window System läuft,
verarbeitet dieses alle Tastatureingaben. Manche X11\-Umgebungen ermöglichen
das Abfangen von STRG\-ALT\-ENTF, aber in diesem Fall ist der genaue Ablauf
von der Umgebung abhängig.
.PP
.\"{{{  Author
\fBShutdown\fP wurde nicht dafür entworfen, mit einer anderen Benutzerkennung
(setuid) zu laufen. Mit \fI/etc/shutdown\fP wird nicht festgestellt, wer das
Programm aufgerufen hat. Es wird nur geprüft, wer aktuell auf (einer) der
Konsole(n) angemeldet ist.
.SH AUTOR
.\"}}}
.\"{{{  See also
Miquel van Smoorenburg, miquels@cistron.nl
.SH "SIEHE AUCH"
\fBfsck\fP(8), \fBhalt\fP(8), \fBinit\fP(8), \fBpoweroff\fP(8), \fBreboot\fP(8)
.\"}}}

.SH ÜBERSETZUNG
Die deutsche Übersetzung dieser Handbuchseite wurde von
Martin Eberhard Schauer <Martin.E.Schauer@gmx.de>
erstellt.

Diese Übersetzung ist Freie Dokumentation; lesen Sie die
GNU General Public License Version 3 oder neuer bezüglich der
Copyright-Bedingungen. Es wird KEINE HAFTUNG übernommen.

Wenn Sie Fehler in der Übersetzung dieser Handbuchseite finden,
schicken Sie bitte eine E-Mail an <debian-l10n-german@lists.debian.org>.

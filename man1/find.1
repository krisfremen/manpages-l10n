.\"
.\"	Copyright 1993 Sebastian Hetze und der/die in der Sektion
.\"	AUTOR genannten Autor/Autoren
.\"
.\"	Dieser Text steht unter der GNU General Public License.
.\"	Er darf kopiert und verändert, korrigiert und verbessert werden.
.\"	Die Copyright und Lizenzbestimmung müssen allerdings erhalten
.\"	bleiben. Die Hinweise auf das LunetIX Linuxhandbuch, aus dem
.\"	dieser Text stammt, dürfen nicht entfernt werden.
.\"
.TH FIND 1 "1. Juli 1993" LunetIX "Linux Anwenderhandbuch"
.SH NAME 
find \- sucht nach bestimmten Dateien
.SH SYNTAX 
.B find
.RI [ Verzeichnis ]
.RI [ \-Option ...]
.RI  [ \-Test ...]
.RI [ \-Aktion ...]
.SH BESCHREIBUNG
.B find
durchsucht eine oder mehrere
Verzeichnishierarchien nach Dateien mit bestimmten Eigenschaften, und
führt damit bestimmte Aktionen aus. Die Eigenschaften können durch
Tests bestimmt werden.
.PP
Optionen, Tests und Aktionen können mit Operatoren zusammengefaßt werden.
\fBfind\fP bewertet für jede Datei in den Verzeichnishierarchien die
Optionen, Tests und Aktionen von links nach rechts, bis ein falscher
Wahrheitswert auftaucht oder die Kommandozeilenargumente zu Ende sind.
.PP
Das erste Argument, das mit einem \fB\-\fP, einer Klammer \fB(\fP,
\fB)\fP, einem Komma \fB,\fP oder einem Ausrufezeichen \fB!\fP
beginnt, wird als Anfang einer Option oder Test interpretiert. Alle
Argumente davor werden als Verzeichnisnamen interpretiert.
.PP
Wenn kein Verzeichnis angegeben ist, wird das aktuelle Verzeichnis genommen.
Wenn keine Aktion angegeben ist, wird die Aktion \fB\-print\fP ausgeführt.
.PP
Der Status von \fBfind\fP ist Null, wenn alle Aktionen erfolgreich waren, im
Fehlerfall ist der Status größer als Null.
.SH OPTIONEN
Die Optionen bestimmen das allgemeine Verhalten des Kommandos, und
beziehen sich nicht auf spezielle Dateien. Die Optionen sind immer wahr.
.IP \fB-daystart\fP
mißt die Zeiten für die -amin, -atime, -cmin,
-ctime, -mmin und -mtime Eigenschaften vom Beginn des aktuellen
Tages anstelle der letzten 24 Stunden
.IP \fB-depth\fP
bearbeitet den Inhalt jedes Verzeichnisses vor dem
Verzeichnis selbst
.IP \fB-follow\fP
folgt den symbolischen Links; diese Option schließt
\fB\-noleaf\fP mit ein
.IP "\fB-maxdepth  \fIEbenen\fR"
steigt bis zu der gegebenen
Zahl von Ebenen im Verzeichnisbaum auf (in der Hierarchie ab); bei 0
Ebenen werden die Tests nur auf die in der Kommandozeile übergebenen
Dateien und Verzeichnisnamen angewendet
.IP "\fB-mindepth \fIEbenen\fR"
steigt mindestens die gegebene Zahl von Ebenen
im Verzeichnisbaum auf (in der Hierarchie ab); bei einer Ebene werden die
in der Kommandozeile genannten Dateien und Verzeichnisnamen nicht
bearbeitet
.IP \fB-noleaf\fP
erzwingt die Bearbeitung aller Verzeichniseinträge;
normalerweise kann davon ausgegangen werden, daß jedes Linuxverzeichnis
wenigstens zwei (harte) Links enthält: das Verzeichnis \fB.\fP ist ein Link
auf das Verzeichnis selbst, und jedes Unterverzeichnis enthält den
Eintrag \fB..\fP als Link auf das Oberverzeichnis; wenn \fBfind\fP bei der
Untersuchung eines Verzeichnisses zwei Unterverzeichnisse weniger
untersucht hat, als das Verzeichnis Links zählt, kann deshalb
normalerweise die weitere Suche beendet werden
.IP \fB-version\fP
gibt die Versionsnummer auf die Standardfehlerausgabe
.IP \fB-xdev\fP
durchsucht keine Verzeichnisse in anderen Dateisystemem
(auf anderen Partitionen)
.SS Tests:
Alle numerischen Argumente können auf drei Arten angegeben werden:
.RS
.IP \fB+\fIN\fR
steht für alle Zahlen größer als \fIN\fP 
.IP \fB-\fIN\fR
steht für alle Zahlen kleiner als \fIN\fP 
.IP \fB\fIN\fR
steht für genau \fIN\fP 
.RE
Alle Tests werden auf die Dateien in den angegebenen Verzeichnissen
einzeln angewendet.  Die Tests liefern einen Wahrheitswert von 0
(Wahr), wenn der Test erfolgreich war.
.PP
Die Tests auf die erweiterten Zeitmarken (Zugriff und Erstellung)
werden nur in solchen Verzeichnissen korrekt behandelt, die auf einem
der neuen Linuxdateisysteme angesiedelt sind (e2fs, xiafs, new minix).
Auf den anderen Dateisystemen wird nur das Datum der letzten Änderung
zuverlässig getestet. Das Ergebnis der anderen Tests hängt davon ab,
ob der letzte Zugriff bzw. die letzte Änderung so kurz zurückliegen,
daß die veränderte I-Node noch im Arbeitsspeicher (Cache) ist. Dann
können auch für die Dateien der alten Dateissysteme alle drei Zeitmarken
unterschieden werden.
.IP "\fB-amin \fIN\fR"
auf die Datei ist vor \fIN\fP Minuten
zugegriffen worden
.IP "\fB-anewer \fIReferenzdatei\fR"
auf die Datei ist vor
weniger Zeit zugegriffen worden, als seit der letzten Veränderung der
\fIReferenzdatei\fP vergangen ist; im Zusammenhang mit \fB\-follow\fP tritt \fB\-anewer\fP nur in Effekt, wenn \fB\-follow\fP
vor \fB\-anewer\fP in der Kommandozeile steht
.IP "\fB-atime \fIN\fR"
auf die Datei ist vor \fIN\fP*24
Stunden zugegriffen worden
.IP "\fB-cmin \fIN\fR"
der Status der Datei wurde vor \fIN\fP Minuten geändert
.IP "\fB-cnewer \fIReferenzdatei\fR"
der Status der Datei
wurde vor weniger Zeit verändert, als seit der letzten Veränderung der
\fIReferenzdatei\fP vergangen ist; zusammen mit \fB\-follow\fP
tritt \fB\-cnewer\fP nur in Effekt, wenn \fB\-follow\fP vor
\fB\-cnewer\fP in der Kommandozeile steht
.IP "\fB-ctime \fIN\fR"
der Dateistatus wurde vor \fIN\fP*24 Stunden geändert
.IP \fB-empty\fP
die reguläre Datei oder das Verzeichnis ist leer
.IP \fB-false\fP
ist immer falsch
.IP "\fB-fstype \fITyp\fR"
die Datei ist in einem Dateisystem vom angegebenen \fITyp\fP; unter anderem
werden \fBminix\fP, \fBmsdos\fP, \fBext\fP und \fBproc\fP erkannt
.IP "\fB-gid \fIN\fR"
die Datei gehört der Gruppe mit der Kennzahl \fIN\fP 
.IP "\fB-group \fIName\fR"
die Datei gehört der Gruppe \fIName\fP
.IP "\fB-inum \fIN\fR"
die Datei belegt die Inode mit der Nummer \fIN\fP 
.IP "\fB-links \fIN\fR"
die Datei hat \fIN\fP (harte) Links
.IP "\fB-lname \fIMuster\fR"
die Datei ist ein symbolischer Link auf eine Datei oder ein Verzeichnis
mit einem zum \fIMuster\fP passenden Namen
.IP "\fB-mmin \fIN\fR"
der Inhalt der Datei wurde vor \fIN\fP Minuten verändert
.IP "\fB-mtime \fIN\fR"
der Inhalt der Datei wurde vor \fIN\fP*24 Stunden verändert
.IP "\fB-name \fIMuster\fR"
der Name der Datei  paßt zu dem \fIMuster\fP
.IP "\fB-newer \fIReferenzdatei\fR"
die Datei ist später verändert worden als die \fIReferenzdatei\fP; zusammen mit \fB\-follow\fP tritt \fB\-newer\fP nur in Effekt, wenn \fB\-follow\fP
vor \fB\-newer\fP in der Kommandozeile steht
.IP \fB-nouser\fP
die Datei gehört keinem im System eingetragenen Benutzer
.IP \fB-nogroup\fP
die Datei gehört keiner im System angemeldeten Gruppe
.IP "\fB-path \fIMuster\fR"
der Pfadname der Datei paßt zum \fIMuster\fP
.IP "\fB-perm \fIModus\fR"
die Zugriffsrechte auf die Datei entprechen exakt dem \fIModus\fP; der \fIModus\fP kann
als Oktalzahl oder mit den bei \fBchmod\fP(1) beschriebenen Kennungen beschrieben werden,
die Kennungen werden auf Modus \fB000\fP bezogen
.IP "\fB-perm -\fIModus\fR"
(mindestens) die Zugriffsrechte für den \fIModus\fP sind gesetzt
.IP "\fB-perm +\fIModus\fR"
die Zugriffsrechte entsprechen höchstens dem \fIModus\fP (oder sind
weiter eingeschränkt)
.IP "\fB-regex \fIMuster\fR"
der Pfadname paßt zu dem regulären Ausdruck \fIMuster\fP
.IP "\fBsize \fIN\fR[{\fBc\fR,\fBk\fR}]"
die Datei belegt \fIN\fP Datenblöcke zu 512 Bytes, bzw. N
Bytes und N Kilobytes mit nachgestelltem \fBc\fP oder \fBk\fP
.IP \fB-true\fP
ist immer wahr
.IP "\fB-type \fIC\fR"
die Datei ist vom Typ \fIC\fP; folgende Typen werden unterschieden:
.RS
.IP \fBb\fP
gepufferte Gerätedatei für ein blockorientiertes Gerät
.IP \fBc\fP
ungepufferte Gerätedatei für ein zeichenorientiertes Gerät
.IP \fBd\fP
Verzeichnis
.IP \fBp\fP
benannte Pipeline (FiFo)
.IP \fBf\fP
normale Datei
.IP \fBl\fP
symbolischer Link
.IP \fBs\fP
Socket
.RE
.IP "\fB-uid \fIN\fR"
die Kennziffer des Eigentümers ist \fIN\fP 
.IP "\fB-used \fIN\fR"
auf die Datei ist \fIN\fP Tage nach der letzten Änderung zugegriffen worden
.IP "\fB-user \fIName\fR"
die Datei gehört dem Anwender \fIName\fP
.IP "\fB-xtype \fIC\fR"
das gleiche wie \fB\-type\fP für alle Dateien, die keine symbolischen Links
sind; wenn die Datei ein symbolischer Link ist und die Option \fB\-follow\fP nicht gesetzt ist, wird die Datei, auf die der Link zeigt, auf
den Typ C geprüft; wenn die Option \fB\-follow\fP gesetzt ist, ist
der Test wahr, wenn C = \fBl\fP ist
.SS Aktionen:
.IP "\fB-exec \fIKommando\fB;\fR"
führt das \fIKommando\fP aus; die Aktion ist wahr, wenn das Kommando einen
Status von Null liefert; alle auf den Kommandonamen folgenden
Argumente bis zu einem Semikolon \fB;\fP werden als
Kommandozeilenargumente für das Kommando interpretiert; das Semikolon
kann nicht weggelassen werden, und es muß durch mindestens ein
Whitespace von der letzen Option getrennt werden; die
Konstruktion \fB{}\fP wird durch den Pfadnamen der Datei ersetzt;
die Klammern und das Semikolon müssen in der Kommandozeile für \fBfind\fP quotiert werden, damit sie nicht von der Shell bearbeitet werden
.IP "\fB-fprint \fIAusgabedatei\fR"
schreibt den Pfadnamen der
getesteten Datei in die \fIAusgabedatei\fP; wenn die Ausgabedatei
nicht existiert, wird sie erzeugt, sonst wird sie erweitert; die
Standardausgabe und die Standardfehlerausgabe werden als
\fB/dev/stdout\fP und \fB/dev/stderr\fP angesprochen
.IP "\fB-fprint0 \fIAusgabedatei\fR"
schreibt den Namen der
getesteten Datei in die \fIAusgabedatei\fP und schließt die
Ausgabe mit einem Nullbyte ab, wie \fB\-print0\fP
.IP "\fB-fprintf \fIAusgabedatei\fR\fIFormat\fR"
schreibt
den Namen der getesteten Datei in die \fIAusgabedatei\fP und
benutzt dabei das \fIFormat\fP mit Sonderzeichen wie bei \fBprintf\fP
.IP "\fB-ok \fIKommando\fB;\fR"
wie \fB\-exec\fP, vor der
Ausführung des Kommandos wird aber noch eine Bestätigung erwartet;
nur eine Eingabe, die mit einem \fBY\fP oder einem \fBy\fP
beginnt, führt zur Ausführung des Kommandos
.IP \fB-print\fP
gibt den vollständigen Pfadnamen der getesteten
Datei auf die Standardausgabe
.IP \fB-print0\fP
gibt den Pfadnamen der getesteten Datei, von
einem Nullbyte abgeschlossen, auf die Standardausgabe; auf diese
Weise können auch Pfadnamen korrekt weiterverarbeitet werden, die
ein Zeilenende enthalten
.IP "\fB-printf \fIFormat\fR"
gibt für die getestete Datei die Zeichenkette \fIFormat\fP auf der
Standardausgabe aus; Format kann verschiedene Sonderzeichen und Platzhalter enthalten, die
von \fBfind\fP bearbeitet werden:
.RS
.TP
\fB\\a\fR
Alarmton
.TP
\fB\\b\fR
Rückschritt
.TP
\fB\\c\fR
Abbruch der Ausgabe
.TP
\fB\\f\fR
Seitenvorschub
.TP
\fB\\n\fR
Zeilenvorschub
.TP
\fB\\r\fP
Wagenrücklauf
.TP
\fB\\t\fP
horizontaler Tabulator
.TP
\fB\\v\fP
vertikaler Tabulator
.TP
\fB\\\\\fR
der Backslash selbst
.RE
.PP
ein Backspace gefolgt von irgendeinem anderen Zeichen wird als normales Zeichen
interpretiert und einfach ausgegeben
.RS
.IP \fB%%\fP
das Prozentzeichen selbst
.IP \fB%a\fP
die Zeit des letzten Zugriffs auf die Datei, in dem Format der \fBctime\fP Funktion
.IP \fB%A\fIk\fR
die Zeit des letzten Zugriffs auf die Datei, in dem von \fIk\fP bestimmte Format; k
hat dabei das gleiche Format wie der entprechende Parameter der \fBstrftime\fP Funktion in C:
.RS
.IP \fB@\fP
Sekunden seit dem 1.1.1970 0 Uhr GMT
.IP \fBH\fP
Stunde (00 bis 23)
.IP \fBI\fP
Stunde (01 bis 12)
.IP \fBk\fP
Stunde (0 bis 23)
.IP \fBl\fP
Stunde (1 bis 12)
.IP \fBM\fP
Minute (00 bis 59)
.IP \fBp\fP
PM oder AM
.IP \fBr\fP
Zeit, 12 Stunden (hh:mm:ss: AM/PM)
.IP \fBS\fP
Sekunden (00 bis 61)
.IP \fBT\fP
Zeit, 24 Stunden (hh:mm:ss)
.IP \fBX\fP
Zeit (H:M:S)
.IP \fBZ\fP
Zeitzone, oder nichts
.IP \fBa\fP
abgekürzter Wochentag
.IP \fBA\fP
ausgeschriebener Wochentag
.IP \fBb\fP
abgekürzter Monatsname
.IP \fBB\fP
ausgeschriebener Monatsname
.IP \fBc\fP
Datum und Zeit
.IP \fBd\fP
Tag im Monat
.IP \fBD\fP
Datum (mm/dd/yy)
.IP \fBh\fP
das gleiche wie \fBb\fP
.IP \fBj\fP
der Tag im Jahr
.IP \fBm\fP
die Zahl des Monats
.IP \fBU\fP
die Nummer der Woche, Sonntag als erster Wochentag
.IP \fBw\fP
die Zahl des Wochentags
.IP \fBW\fP
die Nummer der Woche, Montag als erster Wochentag
.IP \fBx\fP
Datum (mm/dd/yy)
.IP \fBy\fP
die letzten beiden Stellen der Jahreszahl
.IP \fBY\fP
die Jahreszahl
.RE
.IP \fB%b\fP
die Dateigröße in 512 Byte Blöcken (aufgerundet)
.IP \fB%c\fP
das Datum der letzten Statusänderung im Format der C \fBctime\fP Funktion
.IP \fB%C\fIk\fR
das Datum der letzten Statusänderung im Format der \fBstrftime\fP Funktion;
Parameter wie oben
.IP \fB%d\fP
die Höhe der Datei im Verzeichnisbaum; Null bedeutet, daß die Datei
Kommandozeilenargument ist
.IP \fB%f\fP
der Name der getesteten Datei, ohne Verzeichnisse
.IP \fB%g\fP
der Gruppenname der getesteten Datei oder die
Kennzahl, wenn die Gruppe nicht eingetragen ist
.IP \fB%G\fP
die Gruppenkennzahl
.IP \fB%h\fP
die Verzeichnisnamen des Pfadnamen der getesteten Datei
.IP \fB%H\fP
das Kommandozeilenargument (Test), mit dem die Datei gefunden wurde
.IP \fB%i\fP
die Nummer der Inode der getesteten Datei
.IP \fB%k\fP
die aufgerundete Größe der getesteten Datei in Kilobytes
.IP \fB%l\fP
das Objekt, auf die ein symbolischer Link zeigt; leer, wenn die getestete Datei
kein symbolischer Link ist
.IP \fB%m\fP
die Zugriffsrechte als Oktalzahl
.IP \fB%n\fP
die Anzahl der harten Links auf die getestete Datei
.IP \fB%p\fP
der Pfadname der Datei
.IP \fB%P\fP
der Pfadname und das Kommandozeilenargument (Test), mit dem die Datei gefunden
wurde
.IP \fB%s\fP
die Größe der getesteten Datei in Bytes
.IP \fB%t\fP
die Zeit der letzten Änderung, im \fBctime\fP Format
.IP \fB%T\fIk\fR
die Zeit der letzten Änderung, im \fBstrftime\fP Format (siehe oben)
.IP \fB%u\fP
der Name des Eigentümers der getesteten Datei oder die Kennzahl, wenn der
Benutzer nicht eingetragen ist
.IP \fB%U\fP
die Benutzerkennzahl des Eigentümers der getesteten Datei
.RE
.IP \fB-prune\fP
wahr, wenn die Option \fB\-depth\fP gesetzt ist;
sonst falsch
.IP \fB-ls\fP
zeigt das Verzeichnis in dem die getestete Datei
gefunden wurde mit \fBls \-dils\fP an
.SS Operatoren:
Die Optionen, Tests und Aktionen können mit Operatoren verknüpft
werden. Die Bearbeitung erfolgt prinzipiell von links nach rechts.
.IP \fB(\fIAusdruck\fB)\fR
die Klammern fassen den \fI    Ausdruck\fP zu einer Operation zusammen
.IP "\fB! \fIAusdruck\fR"
ist wahr, wenn der \fIAusdruck\fP
falsch ist
.IP "\fB-not \fIAusdruck\fR"
ist ebenfalls wahr, wenn der \fI    Ausdruck\fP falsch ist
.IP "\fB\fIAusdruck1 \fIAusdruck2\fR"
UND Verknüpfung;
wenn \fIAusdruck1\fP wahr ist, wird \fIAusdruck2\fP bewertet
(ausgeführt)
.IP "\fIAusdruck1\fB -a \fIAusdruck2\fR"
auch eine UND
Verknüpfung
.IP "\fIAusdruck1\fB -and \fIAusdruck2\fR"
auch eine UND
Verknüpfung
.IP "\fIAusdruck1\fB -o \fIAusdruck2\fR"
ODER
Verknüpfung; \fIAusdruck2\fP wird bewertet (ausgeführt), wenn \fI    Ausdruck1\fP falsch ist
.IP "\fIAusdruck1\fB -or \fIAusdruck2\fR"
auch eine ODER
Verknüpfung
.IP "\fIAusdruck1\fB , \fIAusdruck2\fR"
Liste; beide
Ausdrücke werden immer bewertet (ausgeführt); der Wahrheitswert des
gesamten Ausdrucks entspricht dem von Ausdruck2
.SH SIEHE AUCH
das LunetIX Linuxhandbuch
.SH AUTOR
Eric Decker, David MacKenzie, Jay Plett und Tim Wood


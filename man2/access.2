.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" This manpage is Copyright (C) 1992 Drew Eckhardt;
.\"                               1993 Michael Haardt, Ian Jackson.
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" Modified Wed Jul 21 19:36:29 1993, Rik Faith (faith@cs.unc.edu)
.\" Modified 21 Aug 1994 by Michael Chastain (mec@shell.portal.com):
.\"   Removed note about old kernel (pre-1.1.44) using wrong id on path.
.\" German Translation Tue Feb 26 21:22:00 1996 Elmar Jansen (ej@pumuckel.gun.de)
.\" Modified Mon Jun 10 00:55:48 1996 by Martin Schulze (joey@linux.de)
.\"
.TH ACCESS 2 "10. Juni 1996" "Linux 1.1.46" "Systemaufrufe"
.SH BEZEICHNUNG
access \- prüft die Zugriffsrechte eines Users an einer Datei
.SH "ÜBERSICHT"
.nf
.B #include <unistd.h>
.sp
.BI "int access(const char *" pathname ", int " mode );
.fi
.SH BESCHREIBUNG
.B access
prüft ob es dem Prozess erlaubt wäre, auf die Datei
.I pathname
(oder ein anderes Dateisystemobjekt) lesend, schreibend oder testend
zuzugreifen.  Wenn
.I pathname
ein symbolischer Verweis ist, werden die Zugriffsrechte der
referenzierten Datei geprüft.

.I Mode
ist eine Bitmaske die aus einem oder mehreren der Werte
.BR R_OK ", " W_OK ", " X_OK " und " F_OK besteht.

.BR R_OK ", " W_OK " und " X_OK
verlangt prüft die Schreib- Lese- bzw. Ausführungsrechte.
.B F_OK
prüft ob weitere Tests für die Existenz der Datei erlaubt sind.
Dieses hängt von den Zugriffsrechten der Verzeichnisse ab, die im
Pfad
.I pathname
vorkommen, und von den Zugriffsrechten der Verzeichnisse und Dateien,
die durch symbolische Verweise referenziert werden.

Dieser Test wird mit der
.I realen
uid und gid des Prozesses durchgeführt, nicht mit den effektiven Id's.
Dadurch haben set-UID Programme die Möglichkeit die wahren Zugriffsrechte 
des Aufrufers festzustellen.

Es werden nur die Zugriffsrechte geprüft, nicht der Dateityp oder dessen
Inhalt.  Dies bedeutet für Verzeichnisse, dass in einem Verzeichnis,
das als "beschreibbar" erkannt wurde, Dateien angelegt werden können,
aber das Verzeichnis selbst nicht wie eine Datei beschreiben werden
kann.  Eine DOS-Datei kann als "ausführbar" gekennzeichnet sein,
jedoch wird ein Aufruf von
.BR execve (2)
trotzdem fehlschlagen.

.SH "RÜCKGABEWERT"
Bei Erfolg (alle angeforderten Zugriffsrechte passen) wird Null
zurückgegeben.  Bei einem Fehler (mindestens eine in
.I mode
angeforderte Zugriffsart wurde verboten, oder ein anderer Fehler ist
aufgetreten) wird \-1 zurückgegeben und
.I errno
entsprechend gesetzt.
.SH ERRORS
.TP
.B EACCES
Der gewünschte Zugriff würde verboten werden, entweder auf die Datei
selbst oder auf eines der Verzeichnisse in
.IR pathname .
.TP
.B EFAULT
.I pathname
zeit auf eine Adresse außerhalb des Benutzer-Adressraums.
.TP
.B EINVAL
.I mode
wurde falsch angegeben.
.TP
.B ENAMETOOLONG
.I pathname
ist zu lang.
.TP
.B ENOENT
Eine Verzeichnis-Komponente von
.I pathname
wuerde zwar zugreifbar bein, existiert jedoch nicht, oder ist ein
toter symbolischer Verweis.
.TP
.B ENOTDIR
Ein Teil von
.I pathname
wird als Verzeichnis benutzt obwohl es keines ist.
.TP
.B ENOMEM
Es war nicht genügend Kernel-Memory verfügbar.
.TP
.B ELOOP
.I pathname
beinhaltet einen Verweis auf einen zirkulären symbolischen Link,
beziehungsweise auf einen symbolischen Link der wieder auf sich selbst
verweist.
.SH WARNUNG
.B access
gibt einen Fehler zurück, wenn einer der angeforderten
Zugriffsrechnte nicht passt, unabhängig davon, dass andere Typen
vielleicht erfolgreich wären.
.SH "KONFORM ZU"
SVID, AT&T, POSIX, X/OPEN, BSD 4.3
.SH "SIEHE AUCH"
.BR stat (2),
.BR open (2),
.BR chmod (2),
.BR chown (2),
.BR setuid (2),
.BR setgid (2).

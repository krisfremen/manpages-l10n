.\" Geschrieben von Ralf Baechle (ralf@waldorf-gmbh.de),
.\" Copyright (c) 1994, 1995 Waldorf GMBH
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\"
.TH CACHEFLUSH 2 "30. Juni 95" "Linux" "Systemaufrufe"
.SH BEZEICHNUNG
cacheflush \- Befehls- und Datencaches entleeren
.SH ÜBERSICHT
.nf
.B #include <asm/cachectl.h>
.sp
.BI "int cacheflush(char *" addr ", int "nbytes ", int "cache ");"
.fi
.SH BESCHREIBUNG
.I Cacheflush
schreibt den als Argument angegebenen Benutzeradressbereich addr bis
(addr+nbytes-1) aus den Caches in den Speicher zurück und invalidiert
die betroffenen Cachelines anschließend.  Cache ist eine der
folgenden Konstanten:
.TP
.B ICACHE
Befehlscache invalidieren.
.TP
.B DCACHE
Den Datencache zurück in den Speicher schreiben und die betroffenen
Cachelines invalidieren.
.TP
.B BCACHE
Identisch mit
.RI ( ICACHE | DCACHE ).
.PP
.SH "RÜCKGABEWERT"
.B cacheflush
gibt 0 bei Erfolg oder -1 im Fehlerfall zurück.  Sollten Fehler erkannt
werden, enthält
.I errno
die Fehlernummer.
.SH FEHLER
.TP
.B EINVAL
Der cache Parameter ist nicht
.IR ICACHE ,
.IR DCACHE ,
oder
.IR BCACHE .
.TP
.B EFAULT
Der Adressbereich addr bis (addr+nbytes-1) ist ganz oder teilweise nicht
adressierbar.
.PP
.SH FEHLER
Die aktuelle Implementation ignoriert die addr und nbytes Parameter.
Stattdessen wird immer der gesamte Cache geflusht.
.SH BEMERKUNGEN
Dieser Systemaufruf ist nur auf MIPS-basierten Systemen verfügbar.

